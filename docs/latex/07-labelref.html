<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>相互参照</title>
  <style type="text/css">code{white-space: pre;}</style>
  <script src="/y21-il1j/lib/js/jquery.min.js"></script>
  <script src="/y21-il1j/lib/js/il.js"></script>
  <link rel="stylesheet" href="/y21-il1j/lib/css/solarized.css">
  <link rel="stylesheet" href="/y21-il1j/lib/css/page.css">
  <link ref="shortcut icon" type="image/png" href="favicon.png">
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header>
<h1 class="title">相互参照</h1>
</header>
<section class="header">
<a href="/y21-il1j">情報リテラシ第一</a> / <a href="/y21-il2j">情報リテラシ第二</a>
</section>
<h1 id="期待のホープ">期待のホープ</h1>
<p>卒論の〆切までまだ１０日以上を残すある日，タケシくんは卒論の草稿を研究室の助教に見てもらいました．翌日，助教に会うと「すばらしい出来だったから，教授にも見てもらっているよ．さっき，ざっと目を通していらしたから，今から行けばコメントをもらえると思うよ．」と言われました．夏から秋にかけての実験が成功した喜びから，一生懸命に書いた成果を褒めてもらってタケシくんは喜んで教授室の扉を開きました．</p>
<dl>
<dt>教授</dt>
<dd>「タケシくん．よくまとまっているよ．この内容なら，国際会議でも発表しよう．半年後にテキサスでビーフステーキだね．ところで，二週間前の実験の結果が含まれていないようだけれども，あれは君の理論の正しさを裏付けるから，卒論にもいれておいた方がいいよ．」
</dd>
<dt>タケシくん</dt>
<dd>「では，論文の最後に章を追加するんでしょうか．」
</dd>
<dt>教授</dt>
<dd>「いやいや，むしろ，３章のところにいれるた方が流れがいいんじゃないかな」
</dd>
<dt>タケシくん（小さな声で）</dt>
<dd>「はい，やりますけれど，ちょっと時間がかかるかもしれません」
</dd>
<dt>教授</dt>
<dd>？？？
</dd>
</dl>
<h1 id="タケシの悩み">タケシの悩み</h1>
<p>さて，みんなから褒められたタケシくんが卒論への加筆を指示されたとたんに，元気がなくなったのはなぜでしょうか．</p>
<p>実は，卒論のなかの教授が指示した場所から後ろに図が20個，表が15個，数式がたくさん含まれていたのです．それぞれ，図表番号や数式番号がつけられています．論文の途中に図表を追加するということは，後続の図表番号をすべて新しくすることを意味します．そして，文章の本文中に含まれている「図3.13 の折れ線グラフを」といった記述を「図3.14 の折れ線グラフを」とか，「数式 (4.5) を変形すると」という記述を「数式 (4.6) を変形すると」のように修正しなくてはいけないということなのです．それに加えて，目次に続いたページには図表番号の一覧や数式一覧のページがありますし，論文の最後には索引があります．</p>
<p>「これを全部修正するのかぁ〜」と想像すると，余裕綽々で進んできたタケシくんの卒論に俄かに暗雲が立ち籠めてきたような気分になって，彼の顔も煙ってしまったのです．</p>
<h1 id="教授の疑問">教授の疑問</h1>
<p>彼の表情の変化は，機嫌のよかった教授にもすぐに見つかりました．でも，教授にはどうして論文にちょっとデータを追加することで，タケシくんが困るのか理解ができません．</p>
<p>二人の理解の齟齬はどこから発生してしまったのでしょう．</p>
<h1 id="latex-の相互参照を使っていればよかったのに">LaTeX の相互参照を使っていればよかったのに</h1>
<p>タケシくんは LaTeX の<strong>相互参照</strong>機能を使わないで長大な論文を執筆してしまったようです．でも，教授は優秀なタケシくんがまさかそんなことをしでかしたとは想像もしないので，彼の悩みを理解できなかったのです．</p>
<p>まずは問題を整理してみます．論文の記述に図表番号や数式番号を<strong>数字でそのまま</strong>書くと上述のように，ちょっとした図表や数式の追加・削除のたびに頭が痺れそうな作業をしなくてはならなくなります．つまり，論文に<strong>番号をそのまま書く</strong>ことこそが諸悪の根源なのです．</p>
<p>LaTeXを使う人々は，論文のなかで図表番号や数式番号を直接書くことはしません．そのかわりに使われるのが<strong>相互参照機能</strong>です．<code>\label</code>コマンドで図表や式に<strong>名前</strong>を与え，<code>\ref</code>コマンドでその<strong>名前</strong>を使って番号を間接的に参照します．</p>
<p>詳しくは<a href="https://www.amazon.co.jp/dp/4274216020">参考書</a>を参照して下さい．</p>
<section class="footer">
<a href="/y21-il1j/">情報リテラシ第一</a> / <a href="/y21-il2j/">情報リテラシ第二</a>
</section>
</body>
</html>
